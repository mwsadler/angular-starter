<div class="page">
    <div *ngIf="isLoading">
        <mat-spinner></mat-spinner>
    </div>
    <div [hidden]="isLoading">
        <div class="top-row" >
            <div class="day-total" >
                <mat-card >
                    <mat-card-content [ngClass]="{'positive': totalReturns >= 0, 'negative': totalReturns < 0}">{{totalReturns | number: '1.2-2'}}</mat-card-content>
                </mat-card>
            </div>
          <div class="day-total" >
            <mat-card >
              <mat-card-content>{{totalValue | number: '1.2-2'}}</mat-card-content>
            </mat-card>
          </div>
            <div class="account-select" >
                <mat-form-field>
                    <mat-label>Select account</mat-label>
                    <mat-select (selectionChange)="onSelectionChange($event)" >
                        <mat-option value="">ALL</mat-option>
                        <mat-option value="CELI">CELI</mat-option>
                        <mat-option value="REER">REER</mat-option>
                        <mat-option value="CELIAPP">CELIAPP</mat-option>
                        <mat-option value="CASH">CASH</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <div class="table" >
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>

                <!--- Note that these columns can be defined in any order.
                      The actual rendered columns are set as a property on the row definition" -->

                <!-- Position Column -->
                <ng-container matColumnDef="symbol" >
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Symbol </th>
                    <td mat-cell *matCellDef="let element"> {{element.symbol}} </td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="total">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Total (CAD)</th>
                    <td mat-cell *matCellDef="let element"> {{element.totalValue | number: '1.2-2'}} </td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="difference">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Difference (CAD)</th>
                    <td mat-cell *matCellDef="let element"> {{element.overallPerformance | number: '1.2-2'}} </td>
                </ng-container>

                <!-- Weight Column -->
                <ng-container matColumnDef="percent">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Difference</th>
                    <td mat-cell *matCellDef="let element"> {{element.percentOverallPerformance | percent: '1.2-2'}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="{'positive': row.overallPerformance >= 0, 'negative': row.overallPerformance < 0}"></tr>
            </table>
        </div>
    </div>
</div>
